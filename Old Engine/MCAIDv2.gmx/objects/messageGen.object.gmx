<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-500</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (instance_exists(objSnowWeather))
{
   with (objSnowWeather)
   {
      part_system_automatic_update(system,0);
      part_system_automatic_draw(system,0);
   }
}
cursor_sprite = blank;
bg = background_create_from_screen(0,0,view_wview[0],view_hview[0],false,false);
instance_deactivate_all(true);
alpha1 = 0;
alpha2 = 0;
fadeStage = 0;
complete = false;
canEnter = true;

// Variants.
// Default is the "item obtained" message type.
// None of the variables below = 1 means default.
setexit = 0; // Exit variant.
scan = 0; // Scan variant.
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_activate_all();
global.PauseDelay = 4;
/*if (instance_exists(objPlayer))
{
   with (objPlayer)
   {
      mvspeed = 0; mhspeed = 0; mspeed = 0; vspeed = 0; hspeed = 0; speed = 0;
      x = other.tempx; y = other.tempy;
   }
}*/
with (objSnowWeather)
{
   part_system_automatic_update(system,1);
   part_system_automatic_draw(system,1);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>canEnter = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>switch (fadeStage) 
{
case 0: // Fade background in.
   if (alpha1 &lt; 0.6) alpha1 += 0.03;
   if( alpha1 = 0.6) fadeStage = 1;
   break;
case 1: // Show message and fade text in.
   if (alpha2 &lt; 0.95) alpha2 += 0.05;
   if (alpha2 = 0.95) complete = true;
   // Old code. Prints by letter.
   /*
   if( string_length(strPart) &lt; string_length(text)) 
   {
       strPart += string_char_at(text,string_length(strPart)+1);
   }
   else 
   {
       complete = true;
   }
   */
   break;
case 2: // Fade text out.
   if (alpha2 &gt; 0) alpha2 -= 0.05;
   if (alpha2 = 0) fadeStage = 3;
case 3: // Fade background out.
   if (alpha1 &gt; 0) alpha1 -= 0.03;
   if (alpha1 = 0) instance_destroy();
   break;
}
cursor_sprite = blank;
/*
if (instance_exists(objPlayer))
{
   with (objPlayer)
   {
      mvspeed = 0; mhspeed = 0; mspeed = 0; vspeed = 0; hspeed = 0; speed = 0;
      x = other.tempx; y = other.tempy;
   }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (setexit) // Exit variant.
{
   if (canEnter) then
   {
      if (!complete) then
      {
         fadeStage = 1;
         canEnter = false;
         alarm[0] = 5;
      }
   }
}
else
if (canEnter) then // Normal variant.
{
   if (complete) then
   {
      complete = false;
      fadeStage = 2;
      canEnter = false;
   } 
   else 
   {
      alpha1 = 0.6;
      fadeStage = 1;
      canEnter = false;
      alarm[0] = 5;
   }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var bw,bh;
bw = background_get_width(Message);
bh = background_get_height(Message);

if (fadeStage = 3)
   { draw_set_alpha(alpha1*2); draw_background(bg,view_xview[0],view_yview[0]); }
else draw_background(bg,view_xview[0],view_yview[0]);
draw_set_color(c_black);
if (fadeStage != 3) draw_set_alpha(alpha1);
draw_rectangle(view_xview[0],view_yview[0],view_xview[0]+view_wview[0],view_yview[0]+view_hview[0],false);
if (!scan) then
{
   if (fadeStage != 3) draw_set_alpha(alpha1/3);
   draw_rectangle(view_xview[0]+110,view_yview[0]+view_hview[0]/2+11+45,view_xview[0]+view_wview[0]-110,view_yview[0]+view_hview[0]/2+11-45,false);
   draw_rectangle(view_xview[0]+110,view_yview[0]+view_hview[0]/2+11+40,view_xview[0]+view_wview[0]-110,view_yview[0]+view_hview[0]/2+11-40,false);
   draw_rectangle(view_xview[0]+110,view_yview[0]+view_hview[0]/2+11+35,view_xview[0]+view_wview[0]-110,view_yview[0]+view_hview[0]/2+11-35,false);
}
//draw_background(Message,(view_xview[0]+view_wview[0]/2)-(bw/2),(view_yview[0]+view_hview[0]/2)-(bh/2)+11);

/*
if (fadeStage = 3)
   { draw_set_alpha(alpha1*2); draw_background(Message,(view_xview[0]+view_wview[0]/2)-(bw/2),(view_yview[0]+view_hview[0]/2)-(bh/2)+11); }
else 
*/
draw_set_font(MessageFont);
draw_set_color(c_white);
draw_set_alpha(alpha2);
draw_set_halign(fa_center);
draw_set_valign(fa_middle);
draw_text_ext(view_xview[0]+view_wview[0]/2,view_yview[0]+view_hview[0]/2+11,text,-2,background_get_width(Message)-global.border);

/*if (instance_exists(objPlayer))
{
   with (objPlayer)
   {
      mvspeed = 0; mhspeed = 0; mspeed = 0; vspeed = 0; hspeed = 0; speed = 0;
      x = other.tempx; y = other.tempy;
   }
}*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (setexit) // Exit variant.
{
   if (canEnter) then
   {
      if (complete) then
      {
         complete = false;
         fadeStage = 2;
         canEnter = false;
      } 
      else 
      {
         fadeStage = 1;
         canEnter = false;
         alarm[0] = 5;
      }
   }
}
else
if (canEnter) then // Normal variant.
{
   if (complete) then
   {
      complete = false;
      fadeStage = 2;
      canEnter = false;
   } 
   else 
   {
      alpha1 = 0.6;
      fadeStage = 1;
      canEnter = false;
      alarm[0] = 5;
   }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (setexit) // Exit variant.
{
   if (canEnter) then
   {
      if (complete) then
      {
         game_end();
      } 
      else 
      {
         fadeStage = 1;
         canEnter = false;
         alarm[0] = 5;
      }
   }
}
else
if (canEnter) then // Normal variant.
{
   if (complete) then
   {
      complete = false;
      fadeStage = 2;
      canEnter = false;
   } 
   else 
   {
      alpha1 = 0.6;
      fadeStage = 1;
      canEnter = false;
      alarm[0] = 5;
   }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
